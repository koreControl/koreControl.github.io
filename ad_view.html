<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ad Processor</title>

<style>
body {
    margin: 0;
    background: #050505;
    overflow: hidden;
    font-family: monospace;
    height: 100vh;
}

#home {
    position: absolute;
    inset: 0;
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

#home h2 { color: orange; font-size: 18px; margin: 4px; }
#home p { color: #888; font-size: 12px; }

#ad {
    position: absolute;
    inset: 0;
    display: block;
    background: white;
}
</style>
</head>

<body>

<div id="home">
    <h2>COOLING DOWN</h2>
    <p>Next cycle in <span id="count">40</span>s</p>
</div>

<div id="ad"></div>

<script>
const SMARTLINK = "https://www.effectivegatecpm.com/cw1ee9zt3?key=166a8de6e9417228de30d751d42c81fb";

const VIEW_TIME = 20000;   // 20s
const COOLDOWN  = 40000;   // 40s

function startAd() {
    const ad = document.getElementById("ad");
    const home = document.getElementById("home");

    home.style.display = "none";
    ad.style.display = "block";
    ad.innerHTML = "";

    const iframe = document.createElement("iframe");
    iframe.style.width = "100%";
    iframe.style.height = "100%";
    iframe.style.border = "none";
    iframe.src = SMARTLINK;

    ad.appendChild(iframe);

    // HARD WAIT â€” DOES NOT CARE IF IFRAME DIES
    setTimeout(startCooldown, VIEW_TIME);
}

function startCooldown() {
    const ad = document.getElementById("ad");
    const home = document.getElementById("home");

    ad.style.display = "none";
    ad.innerHTML = "";

    home.style.display = "flex";

    let t = COOLDOWN / 1000;
    document.getElementById("count").innerText = t;

    const iv = setInterval(() => {
        t--;
        document.getElementById("count").innerText = t;
        if (t <= 0) {
            clearInterval(iv);
            startAd();
        }
    }, 1000);
}

// START WITH AD
startAd();
</script>

</body>
</html>
